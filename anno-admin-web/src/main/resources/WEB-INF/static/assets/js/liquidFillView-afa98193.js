import{C as ae,ac as se,a6 as ve,aa as ue,a0 as de,ad as he,V as fe,ae as ce,a1 as ge,af as ye,ag as _,ah as X,ai as me,aj as pe,ak as Z,al as J,am as we,an as Pe,ao as K,ap as Se,aq as Q,ar as be}from"./index-a0b7cb32.js";ae([se,ve]);ae(ue);de({type:"series.liquidFill",optionUpdated:function(){var a=this.option;a.gridSize=Math.max(Math.floor(a.gridSize),4)},getInitialData:function(a,t){var u=he(a.data,{coordDimensions:["value"]}),f=new fe(u,this);return f.initData(a.data),f},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}});var Ie=ce({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(a,t){t.radiusY==null&&(t.radiusY=t.radius);for(var u=Math.max(Math.ceil(2*t.radius/t.waveLength*4)*2,8);t.phase<-Math.PI*2;)t.phase+=Math.PI*2;for(;t.phase>0;)t.phase-=Math.PI*2;var f=t.phase/Math.PI/2*t.waveLength,d=t.cx-t.radius+f-t.radius*2;a.moveTo(d,t.waterLevel);for(var g=0,w=0;w<u;++w){var O=w%4,o=Me(w*t.waveLength/4,O,t.waveLength,t.amplitude);a.bezierCurveTo(o[0][0]+d,-o[0][1]+t.waterLevel,o[1][0]+d,-o[1][1]+t.waterLevel,o[2][0]+d,-o[2][1]+t.waterLevel),w===u-1&&(g=o[2][0])}t.inverse?(a.lineTo(g+d,t.cy-t.radiusY),a.lineTo(d,t.cy-t.radiusY),a.lineTo(d,t.waterLevel)):(a.lineTo(g+d,t.cy+t.radiusY),a.lineTo(d,t.cy+t.radiusY),a.lineTo(d,t.waterLevel)),a.closePath()}});function Me(a,t,u,f){return t===0?[[a+1/2*u/Math.PI/2,f/2],[a+1/2*u/Math.PI,f],[a+u/4,f]]:t===1?[[a+1/2*u/Math.PI/2*(Math.PI-2),f],[a+1/2*u/Math.PI/2*(Math.PI-1),f/2],[a+u/4,0]]:t===2?[[a+1/2*u/Math.PI/2,-f/2],[a+1/2*u/Math.PI,-f],[a+u/4,-f]]:[[a+1/2*u/Math.PI/2*(Math.PI-2),-f],[a+1/2*u/Math.PI/2*(Math.PI-1),-f/2],[a+u/4,0]]}var I=Pe;function ee(a){return a&&a.indexOf("path://")===0}ge({type:"liquidFill",render:function(a,t,u){var f=this,d=this.group;d.removeAll();var g=a.getData(),w=g.getItemModel(0),O=w.get("center"),o=w.get("radius"),k=u.getWidth(),M=u.getHeight(),q=Math.min(k,M),z=0,D=0,F=a.get("outline.show");F&&(z=a.get("outline.borderDistance"),D=I(a.get("outline.itemStyle.borderWidth"),q));var L=I(O[0],k),T=I(O[1],M),C,E,A,P=!1,p=a.get("shape");if(p==="container"?(P=!0,C=[k/2,M/2],E=[C[0]-D/2,C[1]-D/2],A=[I(z,k),I(z,M)],o=[Math.max(E[0]-A[0],0),Math.max(E[1]-A[1],0)]):(C=I(o,q)/2,E=C-D/2,A=I(z,q),o=Math.max(E-A,0)),F){var te=V();te.style.lineWidth=D,d.add(V())}var re=P?0:L-o,ie=P?0:T-o,R=null;d.add(le());var G=this._data,U=[];g.diff(G).add(function(e){var r=N(e,!1),i=r.shape.waterLevel;r.shape.waterLevel=P?M/2:o,ye(r,{shape:{waterLevel:i}},a),r.z2=2,j(e,r,null),d.add(r),g.setItemGraphicEl(e,r),U.push(r)}).update(function(e,r){for(var i=G.getItemGraphicEl(r),s=N(e,!1,i),n={},l=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],h=0;h<l.length;++h){var v=l[h];s.shape.hasOwnProperty(v)&&(n[v]=s.shape[v])}for(var y={},c=["fill","opacity","shadowBlur","shadowColor"],h=0;h<c.length;++h){var v=c[h];s.style.hasOwnProperty(v)&&(y[v]=s.style[v])}P&&(n.radiusY=M/2),_(i,{shape:n,x:s.x,y:s.y},a),a.isUniversalTransitionEnabled&&a.isUniversalTransitionEnabled()?_(i,{style:y},a):i.useStyle(y);var m=i.getClipPath(),S=s.getClipPath();i.setClipPath(s.getClipPath()),i.shape.inverse=s.inverse,m&&S&&f._shape===p&&!ee(p)&&_(S,{shape:m.shape},a,{isFrom:!0}),j(e,i,i),d.add(i),g.setItemGraphicEl(e,i),U.push(i)}).remove(function(e){var r=G.getItemGraphicEl(e);d.remove(r)}).execute(),w.get("label.show")&&d.add(ne(U)),this._shape=p,this._data=g;function W(e,r){if(p)if(ee(p)){var i=K(p.slice(7),{}),s=i.getBoundingRect(),n=s.width,l=s.height;n>l?(l=e*2/n*l,n=e*2):(n=e*2/l*n,l=e*2);var h=r?0:L-n/2,v=r?0:T-l/2;return i=K(p.slice(7),{},new Se(h,v,n,l)),r&&(i.x=-n/2,i.y=-l/2),i}else if(P){var y=r?-e[0]:L-e[0],c=r?-e[1]:T-e[1];return Q("rect",y,c,e[0]*2,e[1]*2)}else{var y=r?-e:L-e,c=r?-e:T-e;return p==="pin"?c+=e:p==="arrow"&&(c-=e),Q(p,y,c,e*2,e*2)}return new be({shape:{cx:r?0:L,cy:r?0:T,r:e}})}function V(){var e=W(C);return e.style.fill=null,e.setStyle(a.getModel("outline.itemStyle").getItemStyle()),e}function le(){var e=W(o);e.setStyle(a.getModel("backgroundStyle").getItemStyle()),e.style.fill=null,e.z2=5;var r=W(o);r.setStyle(a.getModel("backgroundStyle").getItemStyle()),r.style.stroke=null;var i=new X;return i.add(e),i.add(r),i}function N(e,r,i){var s=P?o[0]:o,n=P?M/2:o,l=g.getItemModel(e),h=l.getModel("itemStyle"),v=l.get("phase"),y=I(l.get("amplitude"),n*2),c=I(l.get("waveLength"),s*2),m=g.get("value",e),S=n-m*n*2;v=i?i.shape.phase:v==="auto"?e*Math.PI/4:v;var b=h.getItemStyle();if(!b.fill){var Y=a.get("color"),B=e%Y.length;b.fill=Y[B]}var oe=s*2,x=new Ie({shape:{waveLength:c,radius:s,radiusY:n,cx:oe,cy:0,waterLevel:S,amplitude:y,phase:v,inverse:r},style:b,x:L,y:T});x.shape._waterLevel=S;var H=l.getModel("emphasis.itemStyle").getItemStyle();H.lineWidth=0,x.ensureState("emphasis").style=H,me(x);var $=W(o,!0);return $.setStyle({fill:"white"}),x.setClipPath($),x}function j(e,r,i){var s=g.getItemModel(e),n=s.get("period"),l=s.get("direction"),h=g.get("value",e),v=s.get("phase");v=i?i.shape.phase:v==="auto"?e*Math.PI/4:v;var y=function(S){var b=g.count();return b===0?S:S*(.2+(b-e)/b*.8)},c=0;n==="auto"?c=y(5e3):c=typeof n=="function"?n(h,e):n;var m=0;l==="right"||l==null?m=Math.PI:l==="left"?m=-Math.PI:l==="none"?m=0:console.error("Illegal direction value for liquid fill."),l!=="none"&&s.get("waveAnimation")&&r.animate("shape",!0).when(0,{phase:v}).when(c/2,{phase:m+v}).when(c,{phase:m*2+v}).during(function(){R&&R.dirty(!0)}).start()}function ne(e){var r=w.getModel("label");function i(){var b=a.getFormattedLabel(0,"normal"),Y=g.get("value",0)*100,B=g.getName(0)||a.name;return isNaN(Y)||(B=Y.toFixed(0)+"%"),b==null?B:b}var s={z2:10,shape:{x:re,y:ie,width:(P?o[0]:o)*2,height:(P?o[1]:o)*2},style:{fill:"transparent"},textConfig:{position:r.get("position")||"inside"},silent:!0},n={style:{text:i(),textAlign:r.get("align"),textVerticalAlign:r.get("baseline")}};Object.assign(n.style,pe(r));var l=new Z(s),h=new Z(s);h.disableLabelAnimation=!0,l.disableLabelAnimation=!0;var v=new J(n),y=new J(n);l.setTextContent(v),h.setTextContent(y);var c=r.get("insideColor");y.style.fill=c;var m=new X;m.add(l),m.add(h);var S=W(o,!0);return R=new we({shape:{paths:e},x:L,y:T}),R.setClipPath(S),h.setClipPath(R),m}},dispose:function(){}});
